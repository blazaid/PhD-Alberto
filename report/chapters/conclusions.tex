\chapter{Conclusiones}
\label{ch:conclusions}

La aplicación de técnicas de la \acrlongsp{ci} sobre el área de la conducción y, concretamente, al área del comportamiento es una línea de investigación muy prometedora. Es posible la extracción de comportamientos específicos a partir de datos reales de conducción, y, aunque no se ha conseguido emular con un cierto grado de satisfacción conductores en concreto, sí que se ha conseguido incorporar el factor indeterminado de la conducción en modelos basados en redes neuronales.

Las implicaciones de estos resultados son variadas. Aun con las limitaciones que nos imponen los micro-simuladores, es posible modelar estos dos comportamientos a partir de datos reales con precisión suficiente como para decir que los agentes se comportan de manera más humana.

El resto del capítulo entra en detalle acerca de los objetivos planteados y su consecución, una discusión sobre los resultados obtenidos y un planteamiento acerca de algunas posibles líneas futuras de trabajo a partir de la presente tesis.

\section{Hipótesis planteadas}

Al comienzo de la tesis se plantearon una serie de objetivos materializados en dos hipótesis que se han tratado de demostrar a lo largo de esta tesis.

La hipótesis H\ref{hyp:first} planteaba que la aplicación de técnicas pertenecientes al campo de la \acrlongsp{ci} con datos de conductores reales sí permite la creación de modelos de conducción con características humanas. A tenor de los resultados obtenidos,se concluye que se pueden desarrollar modelos con la técnica propuesta para incorporar conductores en simulaciones que incorporen comportamientos no deducibles directamente con un modelo lineal.

Sin embargo, la hipótesis~H\ref{hyp:second} proponía que estas técnicas eran suficientes para modelar un conductores en concreto dentro de entornos simulados. Si bien es cierto que los resultados indican que los modelos generados para conductores diferentes son diferentes entre sí, no creemos que exista suficientes indicios para afirmar que los comportamientos modelos simulados son suficientemente fieles al comportamiento de los conductores en el mundo real.

\section{Sobre los datos, los sensores y su utilidad}

Para minimizar la variación de las variables de entrada, los recorridos fueron planteados con ciertos factores a tener en cuenta (e.g. mismos horas, día de la semana, clima, velocidades máximas de vía, etcétera) para mantener un conjunto de datos lo más parecido posible entre sujetos, y así minimizar en la medida de lo posible la incorporación de imprecisiones o sesgos a los conjuntos de datos. Los dispositivos además fueron configurados de la forma más precisa posible, y su sincronización establecida a sus tasas de refresco más bajas para acercar lo máximo posible sus valores entre sí, a fin de minimizar el desplazamiento temporal entre medidas.

Con todo, la captura en este tipo de entornos es una tarea compleja, y más tratándose de tráfico. Los recorridos no están exentos de situaciones fortuitas no predecibles\sidenote{
	Los recorridos fueron repetidos para todos los sujetos en dos ocasiones debido entre otras cosas al tiempo y a accidentes en las rutas planteadas.
} y los dispositivos no son lo suficientemente precisos para capturar los datos de interés. En nuestro caso concreto, consideramos que:

\begin{itemize}
	\item La precisión de un único \acrshort{lidar}\index{LiDAR} de 16 capas no es el dispositivo más adecuado para capturar las características del entorno necesarias para modelar un comportamiento humano. Una separación de \SI{2}{\degree} por capa hace que a \SI{15}{\meter} las capas estén separadas algo más de \SI{0.5}{\meter}, lo cual es insuficiente para muchos usos\sidenote{
		Por ejemplo, sobre una persona de \SI{1.80}{\meter} a una distancia de \SI{20}{\meter} alcanzarían únicamente $2$ haces a lo sumo. Quizá la incorporación de más dispositivos de este tipo en configuraciones con haces cruzados podrían ayudar a esta tarea.
	}
	\item En el caso del \Acrshort{gps}, aun con alta precisión y corrección diferencial implementada, es arriesgado su uso como único dispositivo de localización y para determinar velocidades.
\end{itemize}

Acerca de los datos, los mapas de profundidad obtenidos han demostrado ser una herramienta válida para la representación de un entorno a pesar de su baja resolución.

La técnica del \textit{mirroring} es muy usada en el dominio de reconocimiento de imágenes. Sin embargo, y aunque en nuestro caso está justificada\sidenote{
	La normativa indica que el carril por el que se debe circular es el que más convenga para su destino, a diferencia de vías como una autopista.
}, puede ser contraproducente en el caso de querer extraer información del comportamiento de conductores en entornos extra-urbanos, ya que en éstos, tanto el carril por el que se circula como los cambios sí se pueden considerar dependientes del sentido de la circulación.

Por otro lado, la técnica propuesta del \textit{shaking} ha sido extremadamente útil en la generación artificial de datos y además no sufre del problema del \textit{mirroring} de los entornos extra-urbanos. Consideramos que esta técnica, en conjuntos de datos donde existe un cierto grado de error o imprecisión, es capaz de incrementar su tamaño ayudando a mejorar la generalización y, por tanto, a la calidad de los resultados obtenidos.

\section{Sobre las técnicas de \acrlongsp{ci}}

Las técnicas utilizadas (\acrlongsp{cnn}\index{red de convolución}, \acrlongsp{fcs}\index{sistema de control difuso} y \acrlongsp{mlp}\index{perceptron multicapa}) dependen mucho de las variables de los datos, y no sólo de la cantidad de éstos. De nada sirve ofrecer datos de una variable que no tiene impacto sobre el resultado que se quiere alcanzar. La selección de variables realizada en esta tesis se ha basado en la disponibilidad de éstos en ambos entornos (real y simulación), tratando de obtener de formas alternativas los más críticos (e.g. implementando un \acrshort{lidar}\index{LiDAR} dentro de un simulador, calculando la distancia que se puede recorrer en los carriles).

La aplicación del descenso del gradiente para el ajuste de un controlador difuso permite de forma rápida encontrar un controlador óptimo para un problema. Sin embargo el problema del modelo longitudinal no es directamente tratable con un controlador, al menos no con las variables planteadas y el conjunto de datos. Sin embargo, creemos que aumentando la precisión de los datos obtenidos y con un nuevo conjunto de variables ás cercando al entorno real, el desempeño de éstos aumentaría notablemente.

Para el trabajo con datos del entorno, se ha podido comprobar que las \acrlongplsp{cnn}\index{red de convolución} han generalizado mejor los resultados que los \acrlongplsp{mlp}\index{perceptron multicapa}. Después de todo el entorno se ha representado con una imagen, dominio en las que estas redes destacan por su capacidad de clasificación. Además, al incorporar la ventana temporal como canales de la imagen, toda información está localizada topológicamente cerca con sus momentos anteriores, por lo que es de esperar que esta representación sea capaz de converger más rápidamente hacia una solución. Esto, junto con la modificación de inyección de datos de entrada en capas posteriores a la extracción de características, hace que las \acrlongplsp{cnn}\index{red de convolución} se hayan comportado mejor en su tarea de clasificación.

Concluimos por tanto que las \acrlongplsp{cnn}\index{red de convolución}, en tareas donde es importante la topología espacial y temporal de las entradas, es extremadamente eficiente a la hora de modelar eventos donde sus ventanas temporales están localizadas lo suficientemente cerca en el tiempo como para que sus patrones se desplacen ligeramente, mejorando mucho en precisión y capacidad de caracterización de las entradas a los \acrlongplsp{mlp}\index{perceptron multicapa}.

Somos optimistas en que la implementación de estas técnicas en simuladores más potentes y realistas mejorarían los resultados obtenidos, y por ello es una de las líneas futuras de investigación propuestas.

\section{Sobre el entorno de simulación}

\gls{sumo}\index{SUMO} es un entorno de simulación de tráfico muy potente a la hora de simular escenarios de tráfico complejo. Sin embargo, para comportarse de esta manera, tiene que simplificar otros aspectos. El realismo se queda en la faceta de tráfico, ya que en la faceta de conductor no existe apenas complejidad. El entorno en el que circulan los vehículos no es realista (e.g. no hay edificios o suelo), los carriles son vías por las que circulan los vehículo, los cambios de carril son una \textit{\enquote{teleportación}}, y así un largo etcétera.

En la captura de datos ha sido necesario un proceso previo de muchos de esos datos para convertirlos a algo lo más parecido posible a lo que sería recuperable bajo el entorno simulado, y esas concesiones son las que hacen que se pierda fidelidad en el conjunto de datos capturado.

La conclusión a la que hemos llegado tras trabajar intensivamente es que el entorno es muy adecuado para trabajar otros aspectos de las \acrshortpl{its}\index{ITS} tales como comportamientos colaborativos, comunicaciones, planificación vial, cálculo de rutas óptimas, etcétera. Para trabajar el comportamiento de un conductor, sin embargo, necesitamos otras aproximaciones, como por ejemplo el simulador 3DCoAutoSim~\cite{olaverri2018implementation}, desarrollado por el \textit{Intelligent Technologies in Smart Cities} de la \textit{Fachhochschule Technikum Wien} y con el que se ha tenido la oportunidad de trabajar en la estancia realizada durante el doctorado.